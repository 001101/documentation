# Менеджер Сущностей

Менеджер сущностей доступен в панели администрирования. Он обеспечивает возможность детальной настройки вашего EspoCRM. Вы можете сделать следующее:

* Добавить новые типы объектов.
* Настроить существующие типы сущностей: изменение меток, порядок по умолчанию в представлении списка, включение или отключение потока.
* Настроить поля: добавить новые, настроить существующие.
* Настроить отношения: добавить новые, изменить метки существующих.

## Создание новой сущности

Нажмите кнопку `Создать сущность` на странице менеджера сущностей. Укажите имя, метки и тип. Если вы выбираете `физ.лицо`, тогда вы должны указать адрес электронной почты, телефон, фамилию, имя и определенные поля. Установите флажок `поток`, если вы хотите, чтобы ваша сущность имела потоковую панель, а пользователи могли следовать за сущностями этого типа.

Типы:

* Базовая - пустая сущность только с базовыми полями, такими как имя, назначенный пользователь, команды, описание.
* База плюс - база, но с активностью, история, панель задач (доступно с 4.3.0).
* Событие - дата начала, дата окончания, длительность, место, статус. Доступно в панели календарь и мероприятия (начиная с 4.3.0, должно быть включено в Администрирование > настройки).
* Физ.лицо - электронная почта, телефон, имя, фамилия, приветствие, поля адреса. деятельность, история, панель задач.
* Компания - электронная почта, телефон, адрес для выставления счетов, поля адреса доставки. Деятельность, история, задачи панели.

## Обновить существующую сущность

Если Вы нажмете ссылку `изменить` на определенном объекте, вы сможете изменить некоторые параметры этого объекта.

* Надписи - единственное и множественное название объекта.
* Записи заказов по умолчанию сортируются в списковых представлениях.
* Поток - включена ли функция потока для этой сущности.
* Отключено - проверьте, не нужна ли вам эта сущность в вашей системе.
* Поля текстового фильтра - какие поля искать в основном текстовом фильтре и глобальном поиске.


## Поля

Нажав ссылку `Поля`, вы перейдете на отдельную страницу. Там вы сможете создавать новые поля или обновлять существующие. В Entity Manager доступны следующие типы полей:

* Адрес - адрес улицы, города, штата, почтового индекса и страны;
* Ряд - список значений, с возможностью выбора нескольких значений (не очень хороший вариант, если вам нужно искать по этому полю); пользователи могут добавлять свои собственные значения, если параметры не указаны.
* Вложения - несколько вложений файлов;
* Auto-increment - только чтение сгенерированного числа;
* Boolean - флажок, true или false;
* Валюта - для валютных ценностей;
* Дата;
* Значение DateTime;
* Перечисление - selectbox, с возможностью выбора только одного значения;
* Файл - загрузка одного файла;
* Float - число с десятичной запятой;
* Foreign - поле родственного юридического лица;
* Изображение - загрузка файла изображения с предварительным просмотром;
* Целое число - целое число;
* Номер - автоинкрементное число строкового типа с возможным префиксом и определенной длиной;
* Мульти-перечисление - список значений, с возможностью выбора нескольких значений (не очень хороший вариант, если вам нужно искать по этому полю), аналогично массиву, но лучше.
* Текст - текстовая область, для длинных многострочных текстов;
* Ссылка - для ссылок;
* Значение Varchar - короткий текст;
* Соотвествие - подобно текстовому полю, с возможностью форматирования текста.

Параметры:
* Обязательные - обязательно ли заполнение поля.
* Значение по умолчанию - значение поля, установленного при создании новой записи.
* Проверенные - обновления поля будут регистрироваться в потоке.

**Примечание**: После того, как вы добавили новое поле, вам нужно поместить это поле в [layouts](layout-manager.md)(Administration> Layout Manager).

### Динамическая логика

Предоставляет возможность делать формы динамическими. Можно определить условия, при которых определенные поля видимы, требуются или доступны только для чтения. Условия будут автоматически проверяться при изменении данных в форме.

Для полей Enum, Array и Multi-Enum можно определить различные наборы параметров, которые будут доступны для поля в зависимости от того, какое условие выполнено. Подробнее [здесь](dynamic-logic.md).


## Отношения

Вы можете создавать новые отношения между как готовыми, так и пользовательскими объектами. Существует 3 доступных типа отношений:

* One-to-Many: после того, как вы создали это отношение, вы можете поместить поле ссылки в макет детали правильной сущности и добавить панель отношений в левое сущность;
* Many-to-One: то же, что и «One to Many», но наоборот;
* Many-to-Many: панели отношений с обеих сторон.

Параметр «Link Multiple Field» подразумевает, что поле типа linkMultiple будет создано вместе с отношением. Это поле можно разместить на макете. Это удобно для быстрого сбора связанных записей. Это не очень хороший вариант, если ваши отношения предназначены для того, чтобы иметь множество связанных записей, которые могут замедлить загрузку подробного экрана просмотра.

Если установлен параметр «Проверено», то обновления отношения будут регистрироваться в потоке.
