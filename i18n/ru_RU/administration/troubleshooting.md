# Исправление проблем

## Проверка журнала

Чтобы узнать о проблеме, вам необходимо проверить файлы журнала ошибок.

#### Журналы ошибок EspoCRM

Журналы EspoCRM расположены в `<ESPOCRM_DIRECTORY> /logs/*.log` и содержат некоторую информацию об ошибке.

#### Журналы ошибок Apache

Для сервера Ubuntu журнал ошибок apache находится в `/var/log/apache2/error.log` и содержит всю информацию об ошибках. Расположение файлов журналов может отличаться в других системах.

## Включить режим отладки

Чтобы включить режим отладки, перейдите в установленный каталог EspoCRM, откройте файл `data/ config.php` и измените значение:

```
'logger' => [
    ...
    'level' => 'WARNING',
    ...
]
```
to
```
'logger' => [
    ...
    'level' => 'DEBUG',
    ...
]
```

## Запланированные действия не работают

#### Проблема №1: ваш crontab не настроен

1. Войдите в систему через SSH на свой сервер.

2. Настройте свой crontab, выполнив следующие шаги: https://www.espocrm.com/documentation/administration/server-configuration/#user-content-setup-a-crontab.

Примечание. Crontab должен быть настроен под пользователем веб-сервера, например. `crontab -e -u www-data`.

3. Подождите некоторое время и проверьте Запланированные задания, чтобы узнать, выполнены ли какие-либо задания (см. Журнал).

#### Проблема №2. Crontab настроен, но запланированные задания не работают

Чтобы убедиться, что при запуске cron нет ошибок, попробуйте запустить команду cron в терминале:

1. Войдите в систему через SSH на свой сервер.

2. Перейдите в каталог, где установлен EspoCRM. Например. для каталога `/var/www/html/espocrm` команда:

```bash
cd /var/www/html/espocrm
```

3. Запустите команду crontab:

```bash
php cron.php
```

Примечание. Он должен выполняться под пользователем веб-сервера. Если вы вошли в систему под учетной записью root, команда должна быть (например, для Ubuntu):

```bash
sudo -u www-data php cron.php
```

где `www-data` это сервер пользователя.

4. Если ошибок нет, проверьте Запланированные задания, чтобы узнать, выполнено ли какое-либо задание (см. Журнал).

## EspoCRM не загружается после обновления

Иногда это может происходить на некоторых общих хостах.

Проверка разрешений файлов:
/index.php
/api/v1/index.php

Они должны быть 644. Если какой-либо из этих файлов имеет разрешение 664, вам необходимо изменить его на 644. Используйте панель управления хостинга или команду chmod.

```
chmod 644 /path/to/file
```
Дополнительная информация о разрешениях: [здесь](server-configuration.md#required-permissions-for-unix-based-systems).
