# Управление ролями

## Обзор

Чтобы ограничить доступ для некоторых пользователей, вам нужно использовать роли. Администратор может управлять ролями в панели администрирования. Каждая роль определяет доступ к определенным областям, которые применяются к пользователям, которые владеют этой ролью.

Один пользователь может иметь несколько ролей. Эти роли могут быть выбраны для определенного пользователя (поле «Роли» в записи пользователя) и/или быть унаследованы от команд, к которым принадлежит пользователь.

Если у пользователя несколько ролей, они будут объединены, так что разрешающее правило будет иметь более высокий приоритет. Это позволяет администратору легко и гибко управлять уровнем доступа.

Можно увидеть, какие разрешения применяются к определенному пользователю, нажав кнопку «Доступ» на подробном представлении пользователя.

![1](https://raw.githubusercontent.com/espocrm/documentation/master/_static/images/administration/roles-management/scope-level.png)

## Пример

Например, пользователь принадлежит команде `Продажи`. У этой команды есть единственная роль `Продавца`. Таким образом, все пользователи из этой команды получат роль `Продавца`.

Роль `продавца` определяется следующим образом:

Управление:
```
создание - да
чтение - командное
редактирование - собственное
удаление - нет
поток - командное
```

Возможности:
```
создание - да
чтение – командное
рекдатирование – собственное
удаление – нет
поток - командное
```

Пользователи смогут читать только те роли и возможности, которые принадлежат команде `Отдел продаж` (поле «Команды»).
Пользователь сможет редактировать только те роли и возможности, которым они назначены, или те, которые они создали.
Пользователи не смогут удалять или иметь какие-нибудь другие права.

Мы хотим предоставить больше прав определенному пользователю, занимающему должность менеджера по продажам в компании. Этот сотрудник должен иметь возможность читать/редактировать/удалять все записи из команды `Продажи`. Пользователь должен принадлежать нашей команде `Продажи`. Но нам нужно создать новую роль `Менеджер продаж` и выбрать эту роль для этого пользователя в поле `Роли`.

Роль `менеджера продаж` определяется следующим образом:

Управление:
```
создание - да
чтение – командное
редактирование – командное
удаление – командное
поток - командное
```

Возможности:
```
создание - да
чтение – командное
редактирование – командное
удаление – командное
поток - командное
```

Наш пользователь сможет управлять всеми лидерами и возможностями из команды `Продажи`.

## Специальные разрешения

### Разрешение назначения

Установите этот параметр, чтобы ограничить возможность переназначения записей другому пользователю и/или команде. Если вы установите `команда`, тогда можно будет назначить только пользователей из собственной команды. Если `нет` - пользователи не смогут повторно назначать.

Он также определяет, может ли пользователь отправлять сообщения другим пользователям/командам.

### Разрешение для пользователя

Позволяет ограничить возможность просмотра пользователями активностей, календаря и новостей других пользователей.

### Разрешение для портала

Определяет доступ к информации портала, возможность отправлять сообщения пользователям портала.

### Разрешение для групповых учетных записей электронной почты

Определяет доступ к групповым учетным записям электронной почты, возможность отправлять электронные письма из SMTP группы.

### Экспортное разрешение

Устанавливает, имеет ли пользователь возможность экспортировать записи. (начиная с версии 4.9.0)

## Разрешения по умолчанию

По умолчанию (если они не применяются) пользователи могут читать и редактировать все записи. Но не могут удалять любые записи, кроме тех, которые они создали.

Существует возможность ограничить доступ, применяемый по умолчанию, включив 'ACL Strict Mode' в Администрирование > Настройки.

## Безопасность на уровне полей

Позволяет контролировать доступ для определенных полей.

По умолчанию пользователь может читать все поля, если вы можете прочитать запись. Пользователь может редактировать любое поле, если вы можете редактировать запись. Вы можете ограничить доступ к определенным полям с помощью безопасности на уровне полей.

В режиме редактирования записи роли в разделе Уровень поля щелкните значок плюс рядом с определенной областью, затем выберите нужное поле. Тогда вы сможете увидеть ## Специальные разрешения. Укажите уровень доступа для действий `read` и` edit`. Есть варианты: `yes` и` no`.

![2](https://raw.githubusercontent.com/espocrm/documentation/master/_static/images/administration/roles-management/field-level-secutiry.png)
